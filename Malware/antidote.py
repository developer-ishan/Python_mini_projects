#! python3
import os

#for removing unwanted extention from the files.
def str_subtract(a,b):
    return "".join(a.rsplit(b))
# print(str_subtract("abcd","d"))

#navigating to the level from which you want to start repair
os.chdir('c:\.')
current_dir = os.getcwd() #current working directory

for dirpath, dirnames, filenames in os.walk(current_dir):
    print('Current Path:',dirpath)
    print('Directories:',dirnames)
    print()

    for corrupt_file in filenames:
        corrupt_file = os.path.join(dirpath,corrupt_file)
        new_file = str_subtract(corrupt_file,".ishan")
        try:
            os.rename(corrupt_file,new_file)
        except:
            print("Error while repairing above file.\nPress any key to continue repair.")
            input()
        print(corrupt_file)
        print(new_file)
input()